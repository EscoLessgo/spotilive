<!DOCTYPE html>
<html>
<head>
    <title>Get Refresh Token</title>
    <style>body{background:#111;color:#fff;font-family:sans-serif;text-align:center;padding:50px;}</style>
</head>
<body>
    <h1>Spotify Token Generator</h1>
    <p>1. Enter your Client ID and Client Secret from Spotify Dashboard.</p>
    <p>2. Add <code>http://localhost:8888/callback</code> to Redirect URIs in Dashboard.</p>
    <input id="clientId" placeholder="Client ID" style="padding:10px;width:300px;"><br><br>
    <input id="clientSecret" type="password" placeholder="Client Secret" style="padding:10px;width:300px;"><br><br>
    <button onclick="startAuth()" style="padding:10px 20px;font-weight:bold;">Authorize</button>

    <div id="result" style="margin-top:20px;word-break:break-all;"></div>

    <script>
        const REDIRECT_URI = "http://localhost:8888/callback";
        
        function startAuth() {
            const clientId = document.getElementById('clientId').value;
            const scopes = "user-read-playback-state user-read-currently-playing";
            const url = `https://accounts.spotify.com/authorize?response_type=code&client_id=${clientId}&scope=${encodeURIComponent(scopes)}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}`;
            localStorage.setItem('spotify_cid', clientId);
            localStorage.setItem('spotify_sec', document.getElementById('clientSecret').value);
            window.location.href = url;
        }

        // Logic to handle code return would typically require a backend or manual curl
        // Since we are static, we will simulate the exchange via console or alert help
        // ACTUALLY: We can't do the exchange purely in browser without CORS issues usually.
        // We will just output the CURL command for them.
    </script> 
</body>
</html>
